title: Dir Videos Translater
nodes:
  - node_id: map#1
    title: "Map #1"
    inputs_from:
      - handle: array
        from_node:
          - node_id: video-filter#1
            output_handle: array
      - handle: args
        value: null
        from_node:
          - node_id: iter_args#1
            output_handle: args
    subflow: array::map
    slots:
      - slot_node_id: +slot#2
        slotflow: self::+slotflow#1
  - node_id: list_files_from_folder#1
    title: "List files from folder #1"
    inputs_from:
      - handle: folder
        value: /oomol-driver/oomol-storage/video_1
        from_flow:
          - input_handle: folder
      - handle: sort
        value: false
      - handle: traverse
        value: false
      - handle: absolute_path
        value: true
    task: oomol-file::list_files_from_folder
  - node_id: video-filter#1
    task: self::video-filter
    inputs_from:
      - handle: file_paths
        from_node:
          - node_id: list_files_from_folder#1
            output_handle: file_paths
  - node_id: iter_args#1
    title: "Iter Args #1"
    inputs_from:
      - handle: source
        value: en
        from_flow:
          - input_handle: source
      - handle: target
        value: cn
        from_flow:
          - input_handle: target
      - handle: destination_folder
        value: /oomol-driver/oomol-storage/book
        from_flow:
          - input_handle: destination_folder
    task: array::iter_args
    inputs_def:
      - handle: destination_folder
        json_schema:
          type: string
          ui:widget: dir
        nullable: true
      - handle: source
        json_schema:
          enum:
            - en
            - cn
            - ja
            - fr
            - ru
            - de
          ui:options:
            labels:
              - English
              - 中文
              - 日本語
              - Français
              - Русский
              - Deutsch
      - handle: target
        json_schema:
          enum:
            - en
            - cn
            - ja
            - fr
            - ru
            - de
          ui:options:
            labels:
              - English
              - 中文
              - 日本語
              - Français
              - Русский
              - Deutsch
inputs_def:
  - handle: folder
    json_schema:
      type: string
      ui:widget: dir
    kind: primitive
    nullable: false
    description: Input
  - handle: destination_folder
    json_schema:
      type: string
      ui:widget: dir
    kind: primitive
    nullable: true
    value:
  - handle: source
    json_schema:
      enum:
        - en
        - cn
        - ja
        - fr
        - ru
        - de
      ui:options:
        labels:
          - English
          - 中文
          - 日本語
          - Français
          - Русский
          - Deutsch
    kind: primitive
    nullable: false
  - handle: target
    json_schema:
      enum:
        - en
        - cn
        - ja
        - fr
        - ru
        - de
      ui:options:
        labels:
          - English
          - 中文
          - 日本語
          - Français
          - Русский
          - Deutsch
    kind: primitive
    nullable: false
outputs_def:
  - handle: array
    json_schema:
      {}
    kind: primitive
    nullable: false
outputs_from:
  - handle: array
    from_node:
      - node_id: map#1
        output_handle: array
icon: ":carbon:list:"
